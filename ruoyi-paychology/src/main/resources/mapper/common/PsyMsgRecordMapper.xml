<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.renxin.common.mapper.PsyMsgRecordMapper">

    <resultMap type="PsyMsgRecord" id="PsyMsgRecordResult">
        <result property="id"    column="id"    />
        <result property="sendUserId"    column="send_user_id"    />
        <result property="sendUserType"    column="send_user_type"    />
        <result property="receiveUserId"    column="receive_user_id"    />
        <result property="receiveUserType"    column="receive_user_type"    />
        <result property="msgType"    column="msg_type"    />
        <result property="msg"    column="msg"    />
        <result property="sendTime"    column="send_time"    />
        <result property="delFlag"    column="del_flag"    />
        <result property="status"    column="status"    />
        <result property="createBy"    column="create_by"    />
        <result property="createTime"    column="create_time"    />
        <result property="updateBy"    column="update_by"    />
        <result property="updateTime"    column="update_time"    />
        <result property="param1"    column="param_1"    />
        <result property="param2"    column="param_2"    />
        <result property="param3"    column="param_3"    />
        <result property="param4"    column="param_4"    />
        <result property="param5"    column="param_5"    />
    </resultMap>

    <sql id="selectPsyMsgRecordVo">
        select id, send_user_id, send_user_type, receive_user_id, receive_user_type, msg_type, msg, send_time, del_flag, status, create_by, create_time, update_by, update_time, param_1, param_2, param_3, param_4, param_5 from psy_msg_record
    </sql>

    <select id="selectPsyMsgRecordList" parameterType="PsyMsgRecord" resultMap="PsyMsgRecordResult">
        <include refid="selectPsyMsgRecordVo"/>
        <where>
            <if test="sendUserId != null "> and send_user_id = #{sendUserId}</if>
            <if test="sendUserType != null "> and send_user_type = #{sendUserType}</if>
            <if test="receiveUserId != null "> and receive_user_id = #{receiveUserId}</if>
            <if test="receiveUserType != null "> and receive_user_type = #{receiveUserType}</if>
            <if test="msgType != null "> and msg_type = #{msgType}</if>
            <if test="msg != null  and msg != ''"> and msg = #{msg}</if>
            <if test="sendTime != null "> and send_time = #{sendTime}</if>
            <if test="status != null  and status != ''"> and status = #{status}</if>
            <if test="param1 != null  and param1 != ''"> and param_1 = #{param1}</if>
            <if test="param2 != null  and param2 != ''"> and param_2 = #{param2}</if>
            <if test="param3 != null  and param3 != ''"> and param_3 = #{param3}</if>
            <if test="param4 != null  and param4 != ''"> and param_4 = #{param4}</if>
            <if test="param5 != null  and param5 != ''"> and param_5 = #{param5}</if>
        </where>
    </select>

    <select id="selectPsyMsgRecordById" parameterType="Long" resultMap="PsyMsgRecordResult">
        <include refid="selectPsyMsgRecordVo"/>
        where id = #{id}
    </select>

    <insert id="insertPsyMsgRecord" parameterType="PsyMsgRecord" useGeneratedKeys="true" keyProperty="id">
        insert into psy_msg_record
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="sendUserId != null">send_user_id,</if>
            <if test="sendUserType != null">send_user_type,</if>
            <if test="receiveUserId != null">receive_user_id,</if>
            <if test="receiveUserType != null">receive_user_type,</if>
            <if test="msgType != null">msg_type,</if>
            <if test="msg != null">msg,</if>
            <if test="sendTime != null">send_time,</if>
            <if test="delFlag != null and delFlag != ''">del_flag,</if>
            <if test="status != null and status != ''">status,</if>
            <if test="createBy != null">create_by,</if>
            <if test="createTime != null">create_time,</if>
            <if test="updateBy != null">update_by,</if>
            <if test="updateTime != null">update_time,</if>
            <if test="param1 != null">param_1,</if>
            <if test="param2 != null">param_2,</if>
            <if test="param3 != null">param_3,</if>
            <if test="param4 != null">param_4,</if>
            <if test="param5 != null">param_5,</if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="sendUserId != null">#{sendUserId},</if>
            <if test="sendUserType != null">#{sendUserType},</if>
            <if test="receiveUserId != null">#{receiveUserId},</if>
            <if test="receiveUserType != null">#{receiveUserType},</if>
            <if test="msgType != null">#{msgType},</if>
            <if test="msg != null">#{msg},</if>
            <if test="sendTime != null">#{sendTime},</if>
            <if test="delFlag != null and delFlag != ''">#{delFlag},</if>
            <if test="status != null and status != ''">#{status},</if>
            <if test="createBy != null">#{createBy},</if>
            <if test="createTime != null">#{createTime},</if>
            <if test="updateBy != null">#{updateBy},</if>
            <if test="updateTime != null">#{updateTime},</if>
            <if test="param1 != null">#{param1},</if>
            <if test="param2 != null">#{param2},</if>
            <if test="param3 != null">#{param3},</if>
            <if test="param4 != null">#{param4},</if>
            <if test="param5 != null">#{param5},</if>
        </trim>
    </insert>

    <update id="updatePsyMsgRecord" parameterType="PsyMsgRecord">
        update psy_msg_record
        <trim prefix="SET" suffixOverrides=",">
            <if test="sendUserId != null">send_user_id = #{sendUserId},</if>
            <if test="sendUserType != null">send_user_type = #{sendUserType},</if>
            <if test="receiveUserId != null">receive_user_id = #{receiveUserId},</if>
            <if test="receiveUserType != null">receive_user_type = #{receiveUserType},</if>
            <if test="msgType != null">msg_type = #{msgType},</if>
            <if test="msg != null">msg = #{msg},</if>
            <if test="sendTime != null">send_time = #{sendTime},</if>
            <if test="delFlag != null and delFlag != ''">del_flag = #{delFlag},</if>
            <if test="status != null and status != ''">status = #{status},</if>
            <if test="createBy != null">create_by = #{createBy},</if>
            <if test="createTime != null">create_time = #{createTime},</if>
            <if test="updateBy != null">update_by = #{updateBy},</if>
            <if test="updateTime != null">update_time = #{updateTime},</if>
            <if test="param1 != null">param_1 = #{param1},</if>
            <if test="param2 != null">param_2 = #{param2},</if>
            <if test="param3 != null">param_3 = #{param3},</if>
            <if test="param4 != null">param_4 = #{param4},</if>
            <if test="param5 != null">param_5 = #{param5},</if>
        </trim>
        where id = #{id}
    </update>

    <delete id="deletePsyMsgRecordById" parameterType="Long">
        delete from psy_msg_record where id = #{id}
    </delete>

    <delete id="deletePsyMsgRecordByIds" parameterType="String">
        delete from psy_msg_record where id in
        <foreach item="id" collection="array" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>